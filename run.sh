#!/bin/sh

###### without learned theta and directly sum all the real and imaginary parts
# nohup python run.py task=gaborlpinn gabor2d.last_layer_type=5 gabor2d.dim_d=8 gabor2d.hidden_layers=[32,32,32,32,16] >gabor2d_4_v5.txt gabor2d.device='cuda:0' 2>&1 & # works for comparison
# nohup python run.py task=gaborlpinn gabor2d.regular_v=6.0 gabor2d.last_layer_type=5 >gabor2d_v5_16_dim4.txt gabor2d.device='cuda:1' gabor2d.fine_ratio=2 gabor2d.nx=201 gabor2d.nz=201 gabor2d.test_file='layer_16.0Hz_testdata.mat' gabor2d.train_file='layer_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='layer_velocity_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[128,128,64,64,64] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=8 2>&1 &
# nohup python run.py task=gaborlpinn gabor2d.regular_v=2.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:2' gabor2d.fine_ratio=2 gabor2d.nx=501 gabor2d.nz=161 gabor2d.test_file='overthrust_4.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_4.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove.mat' gabor2d.pre_train_fre=4.0 gabor2d.fre=4.0 gabor2d.hidden_layers=[64,64,64,64,32] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=6.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' >gabor2d_v5_4_dim8_ove.txt  2>&1 &  
# nohup python run.py task=gaborlpinn gabor2d.regular_v=8.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:3' gabor2d.fine_ratio=2 gabor2d.nx=1001 gabor2d.nz=321 gabor2d.test_file='overthrust_16.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[256,256,128,128,128] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' gabor2d.n_batches=2 >gabor2d_16_v5_dim4_ove_large1.txt  2>&1 &  

####### fair comparison
# nohup python run.py task=gaborlpinn net_name=mlp gabor2d.model_type=pinn gabor2d.hidden_layers=[32,32,32,32,16] >mlp2d_4_v5.txt gabor2d.device='cuda:1' 2>&1 & # works for comparison
# nohup python run.py task=gaborlpinn gabor2d.regular_v=6.0 net_name=mlp gabor2d.model_type=pinn >mlp2d_16.txt gabor2d.device='cuda:1' gabor2d.fine_ratio=2 gabor2d.nx=201 gabor2d.nz=201 gabor2d.test_file='layer_16.0Hz_testdata.mat' gabor2d.train_file='layer_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='layer_velocity_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[128,128,64,64,64] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 2>&1 & 
# nohup python run.py task=gaborlpinn gabor2d.regular_v=2.0 gabor2d.last_layer_type=5 net_name=mlp gabor2d.model_type=pinn gabor2d.device='cuda:2' gabor2d.fine_ratio=2 gabor2d.nx=501 gabor2d.nz=161 gabor2d.test_file='overthrust_4.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_4.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove.mat' gabor2d.pre_train_fre=4.0 gabor2d.fre=4.0 gabor2d.hidden_layers=[64,64,64,64,32] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=6.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' >gabor2d_v5_4_dim8_ove.txt  2>&1 &  
# nohup python run.py task=gaborlpinn gabor2d.regular_v=8.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:3' gabor2d.fine_ratio=2 gabor2d.nx=1001 gabor2d.nz=321 gabor2d.test_file='overthrust_16.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[256,256,128,128,128] gabor2d.epochs=500000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=4 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' net_name=mlp gabor2d.model_type=pinn >mlp_16_ove_large.txt  2>&1 &  

####### Test for the paper preparison
# 4hz layer comparison
# python run.py task_type=test task=gaborlpinn gabor2d.last_layer_type=5 gabor2d.dim_d=8 gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-21-02-53-31.683055Z/checkpoints/net_1500.pth 
# python run.py task_type=test task=gaborlpinn gabor2d.last_layer_type=5 gabor2d.dim_d=8 gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-21-02-53-31.683055Z/checkpoints/net_3400.pth 
# python run.py task_type=test task=gaborlpinn gabor2d.last_layer_type=5 gabor2d.dim_d=8 gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-21-02-53-31.683055Z/checkpoints/net_9100.pth 

# python run.py task_type=test task=gaborlpinn net_name=mlp gabor2d.model_type=pinn gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-09-21-02-53-31.590912Z/checkpoints/net_1500.pth
# python run.py task_type=test task=gaborlpinn net_name=mlp gabor2d.model_type=pinn gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-09-21-02-53-31.590912Z/checkpoints/net_3400.pth
# python run.py task_type=test task=gaborlpinn net_name=mlp gabor2d.model_type=pinn gabor2d.hidden_layers=[32,32,32,32,16] gabor2d.device='cuda:0' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-09-21-02-53-31.590912Z/checkpoints/net_9100.pth

# 16 hz layer comparison
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=6.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=201 gabor2d.nz=201 gabor2d.test_file='layer_16.0Hz_testdata.mat' gabor2d.train_file='layer_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='layer_velocity_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[128,128,64,64,64] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=8 gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-19-21-53-57.384915Z/checkpoints/net_45000.pth
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=6.0 net_name=mlp gabor2d.model_type=pinn gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=201 gabor2d.nz=201 gabor2d.test_file='layer_16.0Hz_testdata.mat' gabor2d.train_file='layer_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='layer_velocity_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[128,128,64,64,64] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-09-20-16-16-57.053824Z/checkpoints/net_45000.pth

# 4 hz overthrust comparison
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=2.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=501 gabor2d.nz=161 gabor2d.test_file='overthrust_4.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_4.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove.mat' gabor2d.pre_train_fre=4.0 gabor2d.fre=4.0 gabor2d.hidden_layers=[64,64,64,64,32] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=6.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-20-16-16-57.022505Z/checkpoints/net_45000.pth
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=2.0 gabor2d.last_layer_type=5 net_name=mlp gabor2d.model_type=pinn gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=501 gabor2d.nz=161 gabor2d.test_file='overthrust_4.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_4.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove.mat' gabor2d.pre_train_fre=4.0 gabor2d.fre=4.0 gabor2d.hidden_layers=[64,64,64,64,32] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=6.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-09-21-02-53-31.626358Z/checkpoints/net_45000.pth

# 16 hz overthrust comparison
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=8.0 gabor2d.last_layer_type=5 gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=1001 gabor2d.nz=321 gabor2d.test_file='overthrust_16.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[256,256,128,128,128] gabor2d.epochs=50000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=8 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' gabor2d.n_batches=2 gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/gabor/pinn_basic-2023-09-19-15-15-34.888895Z/checkpoints/net_45000.pth
# python run.py task_type=test task=gaborlpinn gabor2d.regular_v=8.0 gabor2d.last_layer_type=4 gabor2d.device='cuda:0' gabor2d.fine_ratio=2 gabor2d.nx=1001 gabor2d.nz=321 gabor2d.test_file='overthrust_16.0Hz_testdata_v285.mat' gabor2d.train_file='overthrust_16.0Hz_train_data_single_source.mat' gabor2d.velocity_file='smooth_ove_r2.mat' gabor2d.pre_train_fre=16.0 gabor2d.fre=16.0 gabor2d.hidden_layers=[256,256,128,128,128] gabor2d.epochs=500000 gabor2d.encoding_config.encoding_type=0 gabor2d.encoding_config.multires=4 gabor2d.alpha=24.0 gabor2d.dim_d=4 gabor2d.test_source=0 gabor2d.axisx=12.5 gabor2d.axisz=4.0 gabor2d.ub='[12.5, 4.0]' net_name=mlp gabor2d.model_type=pinn gabor2d.state_dict_file=/home/huanx0a/PINN-instant/exp/results/mlp/pinn_basic-2023-07-14-23-58-30.175095Z/checkpoints/net_45000.pth

